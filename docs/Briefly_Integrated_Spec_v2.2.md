# 🔍 Briefly 통합 UI/UX 기능 정의 및 고도화 기획서

> **문서 버전**: v2.2 (모바일 UX & 순서 변경 기능 통합)
> **분석 대상**: Briefly - AI 기반 주간 Todo 관리 및 자동 리포트 생성 SaaS
> **목적**: 현재 기능의 문제점 개선, Phase 2(고도화) 기능 설계, 피그마 가이드
> **전략**: 기본 기능(UI/UX) 전면 무료화 + 고도화 기능(Insight/Team) 유료화

---

## 📋 목차

1. [Phase 1] 기본 기능 완성 (Free - 사용자 확보)
2. [Phase 2] 고도화 기능 (Pro/Team - 수익화)
3. **[Mobile] 모바일 최적화 UX (New!)**
4. UX/UI 완성도 진단
5. 기술적 부채 및 아키텍처
6. 🎨 **피그마(Figma) 기획 체크리스트 (최종)**

---

## 1. [Phase 1] 기본 기능 완성 (Free - 사용자 확보)

### 1.1 Todo 입력 (TodoInput)
- **기능**: 텍스트 입력, Enter 제출.
- **개선**: 최대 글자 수(200자) 제한 및 카운터(`140/200`) 표시.
- **개선**: 제출 중 로딩 스피너 표시 및 입력 비활성화.
- **개선**: 플레이스홀더 및 에러 메시지 다국어(i18n) 처리.

### 1.2 Todo 상세 모달 (TodoDetailModal)
- **개선**: 변경사항 감지(`isDirty`) 시에만 저장 버튼 활성화.
- **개선**: 모달 내에서 완료(Checkbox) 상태 토글 기능 추가.
- **개선**: 날짜 변경 시 "목록에서 사라짐" 경고 문구 추가.

### 1.3 주간 날짜 (WeeklyDateStrip)
- **개선**: **오늘 날짜(Today)** 시각적 강조 (테두리/라벨).
- **개선**: **주말(토/일)** 배경색 및 텍스트 색상 구분.
- **개선**: 모바일 터치 시 해당 날짜로 **자동 스크롤(ScrollIntoView)**.

### 1.4 리포트 생성 (Report)
- **개선**: PDF 생성 에러를 `alert()` 대신 Toast/Dialog로 처리.
- **개선**: **리포트 미리보기(Preview)** 버튼 추가.

### 1.5 🌙 다크 모드 (Dark Mode)
> **개요**: 시스템 설정 또는 사용자 토글에 따라 UI 테마 변경.
> **전략**: 무료 제공으로 앱의 심미적 만족도 극대화.

- **Color Token 정의 (Tailwind)**:
    - `bg-white` ↔ `dark:bg-slate-950`
    - `text-gray-900` ↔ `dark:text-gray-50`
    - `border-gray-200` ↔ `dark:border-slate-800`

---

## 2. [Phase 2] 고도화 기능 (Pro/Team - 수익화)

**💡 무료 사용자를 유료 고객으로 전환시키는 킬러 기능 (Lock-in)**

### 2.1 🌳 목표 분해 (Task Decomposition) & 순서 변경
> **가치**: "복잡한 일을 쉽게 시작하게 해줌 + 내 맘대로 정리"

- **UI 구성**:
    - **트리 구조**: 메인 Todo 하단에 연결선(Guide line)으로 하위 태스크 표시.
    - **순서 변경 (Reorder)**:
        - 아이템 좌측 **핸들(`⋮⋮`)** 아이콘 제공.
        - **Web**: 핸들 드래그로 순서 변경 및 상/하위 이동.
        - **Mobile**: 핸들 롱 프레스(Long Press) 후 드래그.
    - **진척도**: 상위 Todo에 하위 태스크 완료율(예: 2/5) 표시.

### 2.2 🧘 몰입 모드 (Focus Mode)
> **가치**: "보고서 작성 시의 집중력과 평온함 제공"

- **UI 구성**:
    - **Dimmed Background**: 주변 배경을 어둡게 처리.
    - **Center Stage**: 오직 "핵심 성과 입력창"과 "AI 회고 질문"만 표시.

### 2.3 📊 시각화 리포트 (Visual Graphs) - Pro Only
> **가치**: "상사에게 바로 제출 가능한 고퀄리티 시각 자료"

- **그래프 종류**:
    1.  **업무 밀도 히트맵**: 요일별 생산성 시각화.
    2.  **카테고리 파이 차트**: 태그(#기획, #개발) 점유율.
    3.  **주간 성장 추세선**: 4주간 완료율 변화.

### 2.4 🏢 팀 워크스페이스 (Briefly for Teams) - Team Only
> **가치**: "팀장의 취합 시간 1시간 → 1분 단축"

- **스페이스 대시보드**:
    - **멤버 리스트**: 이름 | 상태(🔴미제출/🟡작성중/🟢제출) | 액션.
    - **콕 찌르기(Nudge)**: 미제출자에게 알림 발송 버튼.
- **취합(Aggregation)**:
    - **AI 통합 리포트 생성**: 팀원들의 데이터를 요약/병합하여 하나의 PDF로 생성.

---

## 3. [Mobile] 모바일 최적화 UX (New!)

**💡 모바일 환경에서의 사용성을 데스크톱 수준으로 끌어올리는 핵심 장치**

### 3.1 키보드 액세서리 뷰 (Keyboard Accessory View)
> **문제**: 모바일 키보드에는 `Tab` 키가 없어 들여쓰기(목표 분해)가 불가능함.
> **해결**: 키보드 바로 위에 'Sticky Toolbar'를 배치하여 단축키 역할 수행.

- **UI 위치**: 모바일 가상 키보드(Virtual Keyboard) 바로 위 (하단 고정).
- **구성 요소 (좌 → 우)**:
    - `[ ← ]` (내어쓰기/Outdent): 하위 태스크를 상위로 이동.
    - `[ → ]` (들여쓰기/Indent): 태스크를 하위로 이동.
    - `[ # ]` (태그 추가): 해시태그 입력 숏컷.
    - `[ ⌨️ ]` (키보드 닫기): 입력 완료 및 키보드 내리기.

### 3.2 터치 제스처 (Touch Gestures)
- **Swipe Left**: 삭제 (Delete) - *기존 유지*
- **Long Press on Handle(`⋮⋮`)**: 드래그 모드 진입 (순서 변경).

---

## 4. 기술적 부채 및 아키텍처

- **스키마 추가 (Schema Update)**:
    - `teams`, `team_members` 테이블 추가.
    - `todos` 테이블 확장:
        - `parent_id` (UUID): 계층 구조용 부모 ID.
        - `position` (Float): 순서 정렬용 (Lexorank 방식 권장).
- **라이브러리 추가**:
    - `dnd-kit`: 모바일 터치 지원이 완벽한 드래그 앤 드롭.
    - `next-themes`: 다크모드.
    - `recharts`: 그래프.

---

## 🎨 5. 피그마(Figma) 기획 체크리스트 (최종)

이 체크리스트를 피그마 캔버스에 복사해두고 작업하세요.

### 5.1 공통 & 테마 (Common)
- [ ] **Dark Mode**: 배경(Slate-950), 카드(Slate-900), 텍스트(Gray-50).
- [ ] **Typography**: 한글(Pretendard), 영문(Inter).

### 5.2 기본 컴포넌트 (Basic)
- [ ] **TodoInput**: 200자 카운터, 로딩 스피너.
- [ ] **TodoItem**:
    - [ ] 완료 체크박스 애니메이션.
    - [ ] **Drag Handle(`⋮⋮`)**: 아이템 좌측 배치 (호버 시 표시 / 모바일 상시 표시).
    - [ ] **Indent Guide**: 하위 태스크 연결선(`ㄴ` 모양).
- [ ] **WeeklyDateStrip**: 오늘 날짜 테두리, 주말 컬러.
- [ ] **MobileToolbar**: 키보드 상단 바 (←, →, #, 닫기 아이콘).

### 5.3 [Pro] 시각화 & 몰입 (Visuals)
- [ ] **FocusMode**: 배경 딤(Dim) 처리 화면.
- [ ] **Graphs**: 히트맵, 파이차트, 라인차트 디자인.

### 5.4 [Team] 워크스페이스 (Teams)
- [ ] **SpaceDashboard**: 팀원 목록 테이블, 상태 뱃지.
- [ ] **NudgeButton**: 종 모양 아이콘 + 툴팁.
- [ ] **AggregationEditor**: 좌우 분할 화면.