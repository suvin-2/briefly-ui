# 📊 Briefly 프로젝트 현황 분석 보고서

> **분석 기준일**: 2026-01-01
> **프로젝트명**: Briefly - AI 기반 주간 Todo 관리 및 자동 리포트 생성 SaaS
> **기술 스택**: Next.js 15 + Supabase + TypeScript + Tailwind CSS

---

## 📑 목차
1. [✅ 완전히 구현된 기능](#1-완전히-구현된-기능)
2. [🚧 부분 구현 / 더미 기능](#2-부분-구현--더미-기능)
3. [❌ 미구현 필수 기능](#3-미구현-필수-기능)
4. [⚠️ 개선이 시급한 부분](#4-개선이-시급한-부분)
5. [💡 제안 기능 (우선순위별)](#5-제안-기능-우선순위별)
6. [🐛 알려진 버그 및 이슈](#6-알려진-버그-및-이슈)
7. [📈 기술적 부채](#7-기술적-부채)
8. [🎯 다음 단계 로드맵](#8-다음-단계-로드맵)

---

## 1. ✅ 완전히 구현된 기능

### 1.1 인증 시스템
- ✅ **Google OAuth 로그인** ([login/page.tsx](../app/login/page.tsx))
- ✅ **인증 미들웨어** ([middleware.ts](../middleware.ts))
  - 세션 확인 및 리다이렉트
  - 보호된 라우트 처리
- ✅ **Auth Context Provider** ([auth-provider.tsx](../components/auth-provider.tsx))
  - 전역 사용자 상태 관리
  - 로그아웃 기능

**상태**: 🟢 완성도 90%
**누락 사항**: 로그아웃 후 리다이렉트 처리, 세션 만료 안내

---

### 1.2 Todo 관리 기능

#### ✅ 핵심 CRUD
- **Todo 추가** ([todo-input.tsx](../components/todo-input.tsx))
  - 텍스트 입력 + Enter/버튼 제출
  - 공백 유효성 검사
- **Todo 완료 토글** ([todo-item.tsx](../components/todo-item.tsx))
  - 체크박스로 완료/미완료 전환
  - Optimistic UI (즉시 반영 + 롤백)
- **Todo 상세 편집** ([todo-detail-modal.tsx](../components/todo-detail-modal.tsx))
  - 제목, 날짜, 메모 수정
  - 삭제 확인 다이얼로그
- **Todo 삭제**
  - AlertDialog 확인 후 삭제
  - Optimistic UI

#### ✅ 날짜별 관리
- **주간 날짜 네비게이션** ([weekly-date-strip.tsx](../components/weekly-date-strip.tsx))
  - 모바일: 가로 스크롤 7일
  - 데스크톱: 그리드 14일 (2주)
  - 좌우 화살표로 주 이동
- **날짜별 필터링** ([use-todos.ts](../hooks/use-todos.ts))
  - 선택한 날짜의 Todo만 표시
  - 날짜 변경 시 자동 조회

**상태**: 🟢 완성도 85%
**누락 사항**:
- 오늘 날짜 마커 없음
- Todo 개수 뱃지 없음
- 완료율 시각화 없음

---

### 1.3 리포트 생성 시스템 ⭐ **최신 업데이트!**

#### ✅ 5가지 마크다운 템플릿
1. **📄 기본형** - 날짜별 완료 작업 정리
2. **📋 상세형** - 메모 중심 상세 리포트
3. **⚡ 요약형** - 핵심 성과만 간결하게
4. **💻 개발팀용** - 이슈 트래킹 & 스프린트 리뷰
5. **📊 영업팀용** - 성과 지표 & 달성률 중심

**파일**: [lib/report-templates.ts](../lib/report-templates.ts)

#### ✅ 리포트 생성 UI
- **GenerateReportDialog** ([generate-report-dialog.tsx](../components/generate-report-dialog.tsx))
  - 제목 자동 생성 (날짜 기반)
  - 날짜 범위 선택 (Calendar Range)
  - 빠른 선택: 지난주/이번주
  - **RadioGroup 템플릿 선택** (5개 템플릿 카드)
  - 모바일: Drawer, 데스크톱: Dialog
  - **스크롤 처리** (max-h-60vh, overflow-y-auto)

#### ✅ 리포트 다운로드
- **Markdown 다운로드** ([download-utils.ts](../lib/download-utils.ts))
- **PDF 생성** ([report-card.tsx](../components/report-card.tsx))
  - jsPDF + html-to-image
  - A4 크기, 한글 폰트 지원
  - 스타일링 포함
- **공유 기능**
  - Web Share API (모바일)
  - Fallback: 클립보드 복사

**상태**: 🟢 완성도 90%
**누락 사항**:
- 템플릿 미리보기 없음
- 리포트 편집 불가 (생성 후 수정 불가)

---

### 1.4 UI/UX 시스템

#### ✅ 레이아웃
- **AppShell** ([app-shell.tsx](../components/app-shell.tsx))
  - 사이드바 + 메인 + 바텀바 구조
- **DesktopSidebar** ([desktop-sidebar.tsx](../components/desktop-sidebar.tsx))
  - md 이상에서 표시
- **MobileBottomBar** ([mobile-bottom-bar.tsx](../components/mobile-bottom-bar.tsx))
  - md 미만에서 표시

#### ✅ 반응형 디자인
- **useMobile Hook** ([use-mobile.tsx](../hooks/use-mobile.tsx))
  - 768px 기준 모바일 감지
  - MediaQuery 리스너
- **조건부 렌더링**
  - Dialog ↔ Drawer
  - 그리드 ↔ 스크롤

#### ✅ 다국어 지원
- **LanguageContext** ([language-context.tsx](../lib/language-context.tsx))
- **i18n** ([i18n.ts](../lib/i18n.ts))
  - 한글/영어 번역 완료
  - 템플릿 이름/설명 다국어

**상태**: 🟢 완성도 95%

---

### 1.5 데이터베이스 & 백엔드

#### ✅ Supabase 통합
- **Todo 서비스** ([todo.service.ts](../services/todo.service.ts))
  - CRUD 완전 구현
  - 타입 변환 (snake_case ↔ camelCase)
  - 날짜 범위 조회
  - 타임존 안전성 (formatLocalDate)
- **Report 서비스** ([report.service.ts](../services/report.service.ts))
  - 리포트 생성/조회/삭제
  - 템플릿별 마크다운 생성

#### ✅ Optimistic UI
- **모든 CRUD 작업에 적용** ([use-todos.ts](../hooks/use-todos.ts))
  - 즉시 UI 업데이트
  - 실패 시 자동 롤백
  - Toast 알림

**상태**: 🟢 완성도 100%

---

## 2. 🚧 부분 구현 / 더미 기능

### 2.1 템플릿 업로드 기능 ⚠️ **더미**

**파일**: [template-upload-modal.tsx](../components/template-upload-modal.tsx)

**현재 상태**:
- UI만 구현 (파일 타입 선택, 드래그앤드롭)
- `handleUpload()` 함수에서 `console.log`만 출력
- 실제 파일 업로드 로직 없음

```typescript
const handleUpload = () => {
  if (selectedFile) {
    console.log("[v0] Uploading file:", selectedFile.name, "Type:", fileType)
    // TODO: Implement upload logic here
    onOpenChange(false)
  }
}
```

**문제점**:
- 사용자가 "업로드" 버튼을 누르면 아무 일도 안 일어남
- 혼란 유발: "기능이 고장났나?"

**해결 방안**:
1. ✅ **임시 조치**: "준비 중" 표시 또는 UI에서 제거
2. 🎯 **완전 구현**: Supabase Storage 연동 + AI 레이아웃 분석

**우선순위**: 🟡 중간 (사용자 혼란 방지 필요)

---

### 2.2 Templates 페이지 ⚠️ **미완성**

**파일**: [app/templates/page.tsx](../app/templates/page.tsx)

**현재 상태**:
- 페이지만 존재, 내용 없음
- 네비게이션에서 접근 가능하지만 비어있음

**필요 기능**:
- 템플릿 라이브러리 표시
- 다운로드 가능한 템플릿 목록
- 사용자 커스텀 템플릿 관리

**우선순위**: 🟡 중간

---

## 3. ❌ 미구현 필수 기능

### 3.1 사용자 피드백 불완전

#### ❌ 로딩 상태 누락
| 위치 | 문제 | 영향 |
|------|------|------|
| **Todo 추가** | 로딩 스피너 없음 | 중복 제출 가능 |
| **Todo 수정** | "저장 중..." 표시 없음 | 사용자 불안 |
| **Todo 삭제** | 삭제 중 표시 없음 | 중복 클릭 가능 |
| **날짜 전환** | 로딩 표시 없음 | 날짜 중복 클릭 가능 |

#### ❌ 에러 처리 개선 필요
- **네이티브 alert() 사용**
  - [login/page.tsx:36](../app/login/page.tsx#L36)
  - [report-card.tsx:231](../components/report-card.tsx#L231)
  - 문제: UX 일관성 파괴
  - 해결: Toast로 전면 교체

#### ❌ 유효성 검사 누락
- **Todo 제목 길이 제한 없음** → DB 오버플로우 위험
- **메모 길이 제한 없음** → 권장: 1000자
- **리포트 제목 공백 허용** → 빈 제목 방지 필요

---

### 3.2 접근성 (Accessibility)

#### ❌ 키보드 네비게이션 부족
- **주간 날짜 네비게이션**: 화살표 키 미지원
- **Todo 리스트**: Tab 순서 불명확
- **모달**: ESC 키 동작 불완전

#### ❌ 스크린 리더 지원
- **체크박스**: `aria-label` 없음
- **날짜 버튼**: `aria-current` 없음

**우선순위**: 🔴 높음 (WCAG AA 준수 필요)

---

### 3.3 성능 최적화

#### ❌ 캐싱 없음
- 날짜 전환 시 매번 API 호출
- 같은 날짜 재방문 시에도 재조회

**해결**: React Query 도입 + 캐싱

#### ❌ 가상화 없음
- Todo 100개+ 시 느림
- 리포트 목록 전체 렌더링

**해결**: React Virtualized 또는 무한 스크롤

---

## 4. ⚠️ 개선이 시급한 부분

### 4.1 UX 문제점 (기능 정의 리포트 기준)

#### 🔴 즉시 수정 필요

| 문제 | 위치 | 해결 방법 | 우선순위 |
|------|------|----------|---------|
| **alert() 사용** | login, report-card | Toast로 교체 | ⭐⭐⭐ |
| **하드코딩된 한글** | todo-detail-modal:151 | i18n 처리 | ⭐⭐⭐ |
| **플레이스홀더 영어** | todo-input | 다국어 적용 | ⭐⭐ |
| **오늘 날짜 구분 없음** | weekly-date-strip | 마커 추가 | ⭐⭐ |
| **템플릿 업로드 더미** | template-upload-modal | "준비 중" 표시 OR 제거 | ⭐⭐⭐ |

#### 🟡 중기 개선 권장

| 문제 | 해결 방법 | 비즈니스 임팩트 |
|------|----------|----------------|
| **모달에서 완료 토글 불가** | Checkbox 추가 | 사용성 향상 |
| **날짜 변경 시 Todo 사라짐** | 경고 메시지 + 이동 옵션 | 사용자 혼란 감소 |
| **리포트 편집 불가** | 편집 기능 추가 | 사용자 불만 해소 |

---

### 4.2 기술적 문제

#### 🔴 보안 취약점
- **XSS 위험**: [report-card.tsx:197](../components/report-card.tsx#L197)
  - `innerHTML` 사용 (marked 출력)
  - 해결: DOMPurify로 sanitize

#### 🟡 성능 병목
- **PDF 생성**: 클라이언트 브라우저에서 처리
  - 문제: 대용량 리포트 시 멈춤
  - 해결: 서버사이드 생성 (Puppeteer)

---

## 5. 💡 제안 기능 (우선순위별)

### 5.1 즉시 적용 (Quick Wins) ⭐⭐⭐

| 기능 | 예상 시간 | 임팩트 |
|------|----------|--------|
| 모든 alert() → Toast | 30분 | UX 일관성 |
| 입력 필드 글자 수 제한 + 카운터 | 1시간 | 안정성 |
| 오늘 날짜 마커 | 30분 | 사용성 |
| 템플릿 업로드 "준비 중" 표시 | 10분 | 혼란 방지 |
| 날짜 변경 경고 메시지 | 20분 | 사용자 이해 |

**예상 총 소요 시간**: 2.5시간

---

### 5.2 단기 (1-2주) ⭐⭐

#### 핵심 기능 개선
| 기능 | 설명 | 비즈니스 가치 |
|------|------|---------------|
| **Todo 검색** | 텍스트 검색 + 필터 | 생산성 30% 향상 |
| **Todo 일괄 작업** | 체크박스 다중 선택 + 일괄 삭제/완료 | 중급 사용자 리텐션 |
| **리포트 편집** | 생성된 리포트 수정 | 사용자 불만 해소 |
| **템플릿 미리보기** | 생성 전 템플릿 확인 | 신뢰도 증가 |
| **Todo 태그** | 해시태그 분류 (#회의, #개발) | 고급 사용자 확보 |

---

### 5.3 중기 (1-2개월) ⭐

| 기능 | 설명 |
|------|------|
| **Todo 반복 설정** | 매일/매주 반복 Todo |
| **Todo 우선순위** | High/Medium/Low + 색상 표시 |
| **리포트 공유 링크** | 고유 URL 생성 + 읽기 전용 |
| **다크 모드** | 다크 테마 지원 |
| **캘린더 뷰** | 월간/주간 캘린더로 시각화 |

---

### 5.4 장기 (3-6개월) 🚀

| 기능 | 설명 | 비즈니스 임팩트 |
|------|------|----------------|
| **엑셀 템플릿 업로드** | AI 레이아웃 매핑 + 사용자 수정 | **킬러 피처** |
| **팀 워크스페이스** | 팀원과 Todo/리포트 공유 | B2B SaaS 전환 |
| **Slack/Notion 연동** | 외부 도구 동기화 | 엔터프라이즈 고객 |
| **AI 자동 요약** | GPT로 핵심 성과 요약 | 프리미엄 기능 |

---

## 6. 🐛 알려진 버그 및 이슈

### 6.1 기능 버그

| 버그 | 재현 방법 | 심각도 | 상태 |
|------|----------|--------|------|
| **모바일 키보드 가림** | 모바일에서 하단 입력 필드 클릭 시 키보드에 가려짐 | 🔴 높음 | 미해결 |
| **Drawer 스와이프 다운 데이터 손실** | 변경사항 있어도 Drawer 닫힘 | 🟡 중간 | 미해결 |
| **날짜 변경 시 Todo 깜빡임** | Optimistic UI 롤백 시 | 🟢 낮음 | 미해결 |

---

### 6.2 환경 이슈

| 이슈 | 설명 | 해결 방법 |
|------|------|----------|
| **middleware 경고** | "middleware" file convention is deprecated | Next.js 16 권장사항, 무시 가능 |
| **빌드 실패 (환경 변수)** | .env.local 없으면 빌드 실패 | .env.local.example 제공됨 |

---

## 7. 📈 기술적 부채

### 7.1 코드 품질

#### 🔴 즉시 해결 필요
- **중복 코드**: Optimistic UI 로직 반복
  - 해결: `useOptimisticMutation` Hook 추상화
- **긴 함수**: [report-card.tsx:44-242](../components/report-card.tsx#L44-L242) (200줄)
  - 해결: `pdf-generator.service.ts` 분리

#### 🟡 중기 해결
- **타입 변환 로직 분산**: todo.service.ts, report.service.ts
  - 해결: 공통 `mapper.ts` 통합
- **Magic Number**: 곳곳에 하드코딩된 숫자
  - 해결: 상수 파일 생성

---

### 7.2 의존성 관리

#### ✅ 설치되었지만 미사용
- **react-hook-form** + **zod**: 폼 유효성 검사 라이브러리
  - 현재: 수동 유효성 검사
  - 권장: 적극 활용

#### ⚠️ 버전 관리
- **Next.js 16.0.10**: 최신 버전 (안정성 확인 필요)
- **React 19.2.0**: 최신 버전 (호환성 확인)

---

### 7.3 테스트 부재

#### ❌ 없는 것
- Unit 테스트 (0%)
- Integration 테스트 (0%)
- E2E 테스트 (0%)

#### ✅ 권장
- **Vitest**: Unit 테스트
- **Testing Library**: 컴포넌트 테스트
- **Playwright**: E2E 테스트

---

## 8. 🎯 다음 단계 로드맵

### Phase 1: Quick Wins (1주) ✅ **즉시 시작 가능**

**목표**: 사용자 경험 즉각 개선

- [ ] alert() → Toast 전면 교체
- [ ] 입력 필드 글자 수 제한 + 카운터
- [ ] 오늘 날짜 마커 추가
- [ ] 템플릿 업로드 "준비 중" 표시
- [ ] 날짜 변경 경고 메시지
- [ ] 로딩 상태 일관성 확보

**예상 소요**: 8-10시간

---

### Phase 2: 핵심 기능 (2주)

**목표**: 필수 기능 완성

- [ ] 템플릿 미리보기
- [ ] Todo 검색 및 필터
- [ ] Todo 일괄 작업
- [ ] 리포트 편집 기능
- [ ] 접근성 개선 (키보드 네비게이션)
- [ ] React Query 도입 + 캐싱

**예상 소요**: 40-50시간

---

### Phase 3: 차별화 기능 (1개월)

**목표**: 킬러 피처 구현

- [ ] 엑셀 템플릿 업로드 (하이브리드 방식)
  - AI 자동 매핑
  - 시각적 매핑 확인 UI
  - 템플릿 저장 및 재사용
- [ ] Todo 태그 시스템
- [ ] 다크 모드
- [ ] 캘린더 뷰

**예상 소요**: 80-100시간

---

### Phase 4: 스케일링 (2-3개월)

**목표**: 프로덕션 준비

- [ ] 팀 워크스페이스
- [ ] Slack/Notion 연동
- [ ] AI 자동 요약
- [ ] 테스트 커버리지 80%+
- [ ] 성능 최적화
- [ ] 모니터링 & 로깅

---

## 📊 종합 점수

### 현재 완성도

| 항목 | 점수 | 평가 |
|------|------|------|
| **핵심 기능** | 85% | ✅ Todo 관리 완성, 리포트 생성 완성 |
| **UI/UX** | 75% | 🟡 반응형 완성, 피드백 부족 |
| **코드 품질** | 70% | 🟡 구조 양호, 리팩토링 필요 |
| **안정성** | 60% | 🟡 Optimistic UI 양호, 에러 처리 부족 |
| **접근성** | 40% | 🔴 키보드/스크린리더 미흡 |
| **성능** | 65% | 🟡 Optimistic UI 좋음, 캐싱 없음 |
| **테스트** | 0% | 🔴 없음 |

**전체 평균**: **66.4%** (C+ 등급)

---

## 🎯 최우선 액션 아이템 (Top 5)

1. **⭐⭐⭐ alert() → Toast 교체** (30분)
   - 즉시 UX 개선 가능

2. **⭐⭐⭐ 템플릿 업로드 "준비 중" 표시** (10분)
   - 사용자 혼란 방지

3. **⭐⭐⭐ 입력 필드 유효성 검사** (1시간)
   - DB 안정성 확보

4. **⭐⭐ 템플릿 미리보기** (2시간)
   - 템플릿 시스템 완성

5. **⭐⭐ Todo 검색 기능** (4시간)
   - 생산성 크게 향상

---

## 💬 결론

### 강점
- ✅ **핵심 기능 완성**: Todo 관리 + 리포트 생성
- ✅ **5가지 템플릿 시스템**: 차별화 포인트
- ✅ **Optimistic UI**: 빠른 사용자 경험
- ✅ **반응형 디자인**: 모바일/데스크톱 완벽 대응
- ✅ **다국어 지원**: 한글/영어

### 약점
- ⚠️ **접근성 부족**: WCAG AA 미준수
- ⚠️ **테스트 없음**: 안정성 보장 어려움
- ⚠️ **에러 처리 불완전**: alert() 사용, 피드백 부족
- ⚠️ **더미 기능**: 템플릿 업로드 혼란 유발

### 다음 단계
1. **Phase 1 (Quick Wins)** 먼저 진행 → 즉시 UX 개선
2. **템플릿 미리보기** 추가 → 템플릿 시스템 완성
3. **엑셀 템플릿 업로드** 프로토타입 → 킬러 피처 구현

---

**문서 작성**: Claude Sonnet 4.5
**최종 업데이트**: 2026-01-01
